# Configuration similar to the Wikimedia farm
'(?<lang>[a-z-]+)\.(?<family>[a-z]+)\.org':
    
    variables:
        
        - variable: 'family'
        
        - variable: 'lang'
          file: 'org/$family.dblist'
    
    suffix: '$family'
    wikiID: '$lang$family'
    versions: 'wikiversions.json'
    data: '/srv/data/org/$family/$lang'
    cache: '/tmp/mw-cache/org-$version-$family-$lang'
    config:
      - file: 'org/InitialiseSettings.php'
        key: '*'
      - file: 'org/PrivateSettings.php'
        key: '*'
    exec-config: 'org/ExecSettings.php'

# Configuration for a small wiki farm
'(?<client>[a-z]+)-(?<wiki>[a-z]+)\.example\.com':
    
    variables:
        
        - variable: 'client'
          file: 'com/example/clients.yml'
        
        - variable: 'wiki'
          file: 'com/example/$client/wikis.yml'
    
    suffix: '$client'
    wikiID: '$wiki-$client'
    data: '/srv/data/com/example/$client/$wiki'
    cache: '/tmp/mw-cache/com-example-$version-$client-$wiki'
    config:
      - file: 'com/example/DefaultSettings.yml'
        key: 'default'
      - file: 'com/example/InitialiseSettings.yml'
        key: '*'
      - file: 'com/example/PrivateSettings.yml'
        key: '*'
    exec-config: 'com/example/ExecSettings.php'
